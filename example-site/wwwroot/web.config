<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <system.webServer>
        <rewrite>
            <rewriteMaps>
                <rewriteMap name="/*" />
            </rewriteMaps>
            <rules>
                <rule name="assets" stopProcessing="true">
                    <match url="^assets" />
                    <action type="None" />
                </rule>          
                <rule name="style" stopProcessing="true">
                    <match url="^style" />
                    <action type="None" />
                </rule>          
                <rule name="script" stopProcessing="true">
                    <match url="^script" />
                    <action type="None" />
                </rule>                   
                <rule name="Route to html auth controller - auth.html" stopProcessing="true">
                    <match url="^auth.html$" />
                    <action type="Rewrite" url="_auth.php?__execution_path=index" appendQueryString="true" />
                </rule>           
                <rule name="Route to html auth controller - index" stopProcessing="true">
                    <match url="^auth/?$" />
                    <action type="Rewrite" url="_auth.php?__execution_path=index" appendQueryString="true" />
                </rule>   
                <rule name="Route to html auth controller" stopProcessing="true">
                    <match url="^auth/(.*)$" />
                    <action type="Rewrite" url="_auth.php?__execution_path={R:1}" appendQueryString="true" />
                </rule>
                <rule name="Route to the csv" stopProcessing="true">
                    <match url="^(.+)\.csv$" />
                    <action type="Rewrite" url="_csv.php?__execution_path={R:1}" appendQueryString="true" />
                </rule>                    
                <rule name="Route to the  json dispatcher" stopProcessing="true">
                    <match url="^(.+)\.json$" />
                    <action type="Rewrite" url="_json.php?__execution_path={R:1}" appendQueryString="true" />
                </rule>         
                <rule name="Route to html controller app and page - html" stopProcessing="true">
                    <match url="^(.+)\.html$" />
                    <action type="Rewrite" url="_html.php?__execution_path={R:1}" appendQueryString="true" />
                </rule>
                <rule name="Catch any .php files (do not expose)." stopProcessing="true">
                    <match url="^(.*)\.php(.*)$" />
                    <action type="Redirect" url="{R:1}?{R:2}" appendQueryString="true" />
                </rule>
                <rule name="Route to controller" stopProcessing="true">
                    <match url="^/?(.+)$" />
                    <action type="Rewrite" url="_html.php?__execution_path={R:1}" appendQueryString="true" />
                </rule>
                <rule name="Route to controller default" stopProcessing="true">
                    <action type="Rewrite" url="_html.php?__execution_path=index" appendQueryString="true" />
                </rule>
            </rules>
        </rewrite>
    </system.webServer>
</configuration>
